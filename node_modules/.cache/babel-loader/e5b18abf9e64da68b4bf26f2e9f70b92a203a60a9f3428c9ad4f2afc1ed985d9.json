{"ast":null,"code":"import { mapState } from \"vuex\";\nimport GeneralButton from \"@/components/GeneralButton.vue\";\nexport default {\n  components: {\n    GeneralButton\n  },\n  computed: {\n    ...mapState([\"produits\", \"cartItems\", \"favorites\", \"categories\", \"actualProducts\"]),\n    categoriesV() {\n      return this.$store.state.categoriesV;\n    }\n  },\n  data() {\n    return {\n      identite: \"guest\",\n      groupe: \"GUEST\",\n      searchTerm: \"\",\n      // actualProducts: [...this.$store.state.produits],\n      filteredProducts: [],\n      chosenCategory: \"Tous produits\",\n      disableButton: true\n    };\n  },\n  methods: {\n    isInCart(item) {\n      return this.cartItems.find(cartItem => cartItem.id === item.id) !== undefined;\n    },\n    addOrRemove(product) {\n      const isInCart = this.isInCart(product);\n      const mutationType = isInCart ? \"REMOVE_FROM_CART\" : \"ADD_TO_CART\";\n      product.quantity = product.moq;\n      this.$store.commit(mutationType, product);\n      this.saveCart();\n    },\n    saveCart() {\n      localStorage.setItem(\"cartItems\", JSON.stringify(this.cartItems));\n      console.log(\"Saved Cart:\", this.cartItems);\n    },\n    isFavorite(product) {\n      return this.favorites.some(fav => fav.id === product.id);\n    },\n    toggleFavorite(product) {\n      if (this.groupe !== \"USER\") {\n        alert(\"Vous devez être membre pour pouvoir créer des favoris.\");\n      } else {\n        const index = this.favorites.findIndex(fav => fav.id === product.id);\n        if (index === -1) {\n          // If the product is not in favorites, add it\n          this.$store.commit(\"ADD_TO_FAVORITES\", product);\n        } else {\n          // If the product is in favorites, remove it\n          this.$store.commit(\"REMOVE_FROM_FAVORITES\", product);\n        }\n        this.saveFavorites();\n      }\n    },\n    saveFavorites() {\n      localStorage.setItem(\"favorites\", JSON.stringify(this.favorites));\n      console.log(\"Saved Favorites:\", this.favorites);\n    },\n    loadFavorites() {\n      const storedFavorites = localStorage.getItem(\"favorites\");\n      if (storedFavorites) {\n        this.$store.commit(\"SET_FAVORITES\", JSON.parse(storedFavorites));\n      }\n    },\n    filterProductsByCategory() {\n      const selectedCategory = this.categoriesV.find(category => category.name === this.chosenCategory);\n      this.filterProducts(selectedCategory);\n    },\n    handleSearch() {\n      const selectedCategory = this.categoriesV.find(category => category.name === this.chosenCategory);\n      this.filterProducts(selectedCategory);\n    },\n    filterProducts(selectedCategory) {\n      this.filteredProducts = selectedCategory ? this.actualProducts.filter(product => product.categorieId === selectedCategory.id).filter(product => product.titre.toLowerCase().includes(this.searchTerm.toLowerCase())) : this.actualProducts.filter(product => product.titre.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    },\n    loadCart() {\n      const storedCartItems = localStorage.getItem(\"cartItems\");\n      if (storedCartItems) {\n        this.$store.commit(\"SET_CART_ITEMS\", JSON.parse(storedCartItems));\n      }\n    }\n  },\n  created() {\n    console.log(\"Component created\");\n    let identity = localStorage.getItem(\"myIdentity\");\n    if (identity) {\n      this.identite = JSON.parse(localStorage.getItem(\"myIdentity\")).raisonSociale;\n      this.$store.commit(\"CHANGE_IDENTITY\", this.identite);\n      this.groupe = JSON.parse(localStorage.getItem(\"myIdentity\")).role;\n    }\n    const storedActualProducts = JSON.parse(localStorage.getItem(\"actualProducts\"));\n    if (storedActualProducts) {\n      this.$store.commit(\"SET_ACTUAL_PRODUCTS\", storedActualProducts);\n    } else {\n      this.$store.commit(\"SET_ACTUAL_PRODUCTS\", [...this.$store.state.produits]);\n    }\n    this.$store.dispatch('initializeCategories');\n    this.$store.dispatch(\"initializeActualProducts\");\n    this.filteredProducts = this.actualProducts;\n    this.$store.dispatch(\"updateCategoriesV\");\n    this.loadFavorites();\n    this.loadCart();\n  }\n};","map":{"version":3,"names":["mapState","GeneralButton","components","computed","categoriesV","$store","state","data","identite","groupe","searchTerm","filteredProducts","chosenCategory","disableButton","methods","isInCart","item","cartItems","find","cartItem","id","undefined","addOrRemove","product","mutationType","quantity","moq","commit","saveCart","localStorage","setItem","JSON","stringify","console","log","isFavorite","favorites","some","fav","toggleFavorite","alert","index","findIndex","saveFavorites","loadFavorites","storedFavorites","getItem","parse","filterProductsByCategory","selectedCategory","category","name","filterProducts","handleSearch","actualProducts","filter","categorieId","titre","toLowerCase","includes","loadCart","storedCartItems","created","identity","raisonSociale","role","storedActualProducts","produits","dispatch"],"sources":["/workspaces/Projet-WebWares/src/views/ProductList.vue"],"sourcesContent":["<template>\r\n  <div class=\"products-section\">\r\n    <h2>{{ chosenCategory }}</h2>\r\n\r\n    <div class=\"filter-section\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"16\"\r\n        height=\"16\"\r\n        fill=\"currentColor\"\r\n        class=\"bi bi-tag\"\r\n        viewBox=\"0 0 16 16\"\r\n      >\r\n        <path\r\n          d=\"M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0\"\r\n        />\r\n        <path\r\n          d=\"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586 7 7L13.586 9l-7-7H2z\"\r\n        />\r\n      </svg>\r\n      <select\r\n        v-model=\"chosenCategory\"\r\n        @change=\"filterProductsByCategory\"\r\n        name=\"category\"\r\n        id=\"category\"\r\n      >\r\n        <option value=\"Tous produits\">Catégorie</option>\r\n        <option\r\n          v-for=\"category in categoriesV\"\r\n          :key=\"category.id\"\r\n          :value=\"category.name\"\r\n        >\r\n          {{ category.name }}\r\n        </option>\r\n      </select>\r\n      <!-- <select v-model=\"chosenCategory\" @change=\"filterProductsByCategory()\" name=\"categories\" id=\"categories\">\r\n        <option value=\"Tous produits\">Catégorie</option>\r\n        <option value=\"Mobilier d'intérieur\">Mobilier d'intérieur</option>\r\n        <option value=\"Luminaires\">Luminaires</option>\r\n        <option value=\"Tapis\">Tapis</option>\r\n        <option value=\"Objets de décoration\">Objets de décoration</option>\r\n      </select> -->\r\n      <div class=\"input-group\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-search\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path\r\n            d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0\"\r\n          />\r\n        </svg>\r\n        <input\r\n          v-model=\"searchTerm\"\r\n          @input=\"handleSearch()\"\r\n          type=\"text\"\r\n          id=\"searchInput\"\r\n          placeholder=\"Rechercher par nom de produit\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"products-grid\">\r\n      <div\r\n        v-for=\"(produit, index) in filteredProducts\"\r\n        :key=\"index\"\r\n        class=\"product\"\r\n      >\r\n        <div class=\"in-stock\" v-if=\"produit.stock >= produit.moq\">\r\n          <svg\r\n            v-if=\"!isFavorite(produit) || groupe != 'USER'\"\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            v-else\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\r\n            />\r\n          </svg>\r\n          <img :src=\"produit.image\" :alt=\"produit.titre\" />\r\n          <div class=\"product-info\">\r\n            <h4>{{ produit.titre }}</h4>\r\n            <br />\r\n            <p v-if=\"groupe !== 'GUEST'\">{{ produit.prix }} €</p>\r\n            <p>Commande minimum : {{ produit.moq }}</p>\r\n          </div>\r\n          <div v-if=\"groupe !== 'USER'\">\r\n            <GeneralButton\r\n              label=\"Ajouter au panier\"\r\n              :disabled=\"disableButton\"\r\n              class=\"disabledButton\"\r\n              title=\"Cette fonctionnalité n'est disponible que pour nos membres.\"\r\n            />\r\n            <p v-if=\"identite === 'guest'\" class=\"guestMessage\">\r\n              Vous devez être membre pour pouvoir commander.\r\n            </p>\r\n          </div>\r\n          <div v-else>\r\n            <GeneralButton\r\n              label=\"Ajouter au panier\"\r\n              @generalEvent=\"addOrRemove(produit)\"\r\n              v-if=\"!isInCart(produit)\"\r\n            />\r\n            <GeneralButton\r\n              label=\"Retirer du panier\"\r\n              @generalEvent=\"addOrRemove(produit)\"\r\n              class=\"removeFromCartBtn\"\r\n              v-if=\"isInCart(produit)\"\r\n            />\r\n          </div>\r\n          <router-link\r\n            :to=\"{ name: 'produits-details', params: { id: index } }\"\r\n            class=\"details-link\"\r\n            >Détails du produit</router-link\r\n          >\r\n        </div>\r\n        <div class=\"out-of-stock\" v-else>\r\n          <svg\r\n            v-if=\"!isFavorite(produit) || groupe != 'USER'\"\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            v-else\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\r\n            />\r\n          </svg>\r\n          <img :src=\"produit.image\" :alt=\"produit.titre\" class=\"greyed\" />\r\n          <div class=\"product-info\">\r\n            <h4>{{ produit.titre }}</h4>\r\n            <br />\r\n            <p v-if=\"groupe !== 'GUEST'\">{{ produit.prix }} €</p>\r\n            <p>Commande minimum : {{ produit.moq }}</p>\r\n          </div>\r\n          <br />\r\n          <p class=\"unavailable\">Produit indisponible</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <br />\r\n  <br />\r\n  <br />\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport GeneralButton from \"@/components/GeneralButton.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    GeneralButton,\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\r\n      \"produits\",\r\n      \"cartItems\",\r\n      \"favorites\",\r\n      \"categories\",\r\n      \"actualProducts\",\r\n    ]),\r\n    categoriesV() {\r\n      return this.$store.state.categoriesV;\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      identite: \"guest\",\r\n      groupe: \"GUEST\",\r\n      searchTerm: \"\",\r\n      // actualProducts: [...this.$store.state.produits],\r\n      filteredProducts: [],\r\n      chosenCategory: \"Tous produits\",\r\n      disableButton: true,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    isInCart(item) {\r\n      return (\r\n        this.cartItems.find((cartItem) => cartItem.id === item.id) !== undefined\r\n      );\r\n    },\r\n    addOrRemove(product) {\r\n      const isInCart = this.isInCart(product);\r\n      const mutationType = isInCart ? \"REMOVE_FROM_CART\" : \"ADD_TO_CART\";\r\n      product.quantity = product.moq;\r\n      this.$store.commit(mutationType, product);\r\n      this.saveCart();\r\n    },\r\n    saveCart() {\r\n      localStorage.setItem(\"cartItems\", JSON.stringify(this.cartItems));\r\n      console.log(\"Saved Cart:\", this.cartItems);\r\n    },\r\n    isFavorite(product) {\r\n      return this.favorites.some((fav) => fav.id === product.id);\r\n    },\r\n    toggleFavorite(product) {\r\n      if (this.groupe !== \"USER\") {\r\n        alert(\"Vous devez être membre pour pouvoir créer des favoris.\");\r\n      } else {\r\n        const index = this.favorites.findIndex((fav) => fav.id === product.id);\r\n\r\n        if (index === -1) {\r\n          // If the product is not in favorites, add it\r\n          this.$store.commit(\"ADD_TO_FAVORITES\", product);\r\n        } else {\r\n          // If the product is in favorites, remove it\r\n          this.$store.commit(\"REMOVE_FROM_FAVORITES\", product);\r\n        }\r\n\r\n        this.saveFavorites();\r\n      }\r\n    },\r\n\r\n    saveFavorites() {\r\n      localStorage.setItem(\"favorites\", JSON.stringify(this.favorites));\r\n      console.log(\"Saved Favorites:\", this.favorites);\r\n    },\r\n    loadFavorites() {\r\n      const storedFavorites = localStorage.getItem(\"favorites\");\r\n      if (storedFavorites) {\r\n        this.$store.commit(\"SET_FAVORITES\", JSON.parse(storedFavorites));\r\n      }\r\n    },\r\n    filterProductsByCategory() {\r\n      const selectedCategory = this.categoriesV.find(\r\n        (category) => category.name === this.chosenCategory\r\n      );\r\n      this.filterProducts(selectedCategory);\r\n    },\r\n\r\n    handleSearch() {\r\n      const selectedCategory = this.categoriesV.find(\r\n        (category) => category.name === this.chosenCategory\r\n      );\r\n\r\n      this.filterProducts(selectedCategory);\r\n    },\r\n\r\n    filterProducts(selectedCategory) {\r\n      this.filteredProducts = selectedCategory\r\n        ? this.actualProducts\r\n            .filter((product) => product.categorieId === selectedCategory.id)\r\n            .filter((product) =>\r\n              product.titre\r\n                .toLowerCase()\r\n                .includes(this.searchTerm.toLowerCase())\r\n            )\r\n        : this.actualProducts.filter((product) =>\r\n            product.titre.toLowerCase().includes(this.searchTerm.toLowerCase())\r\n          );\r\n    },\r\n    loadCart() {\r\n      const storedCartItems = localStorage.getItem(\"cartItems\");\r\n      if (storedCartItems) {\r\n        this.$store.commit(\"SET_CART_ITEMS\", JSON.parse(storedCartItems));\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    console.log(\"Component created\");\r\n    let identity = localStorage.getItem(\"myIdentity\");\r\n    if (identity) {\r\n      this.identite = JSON.parse(\r\n        localStorage.getItem(\"myIdentity\")\r\n      ).raisonSociale;\r\n\r\n      this.$store.commit(\"CHANGE_IDENTITY\", this.identite);\r\n\r\n      this.groupe = JSON.parse(localStorage.getItem(\"myIdentity\")).role;\r\n    }\r\n\r\n    const storedActualProducts = JSON.parse(\r\n      localStorage.getItem(\"actualProducts\")\r\n    );\r\n    if (storedActualProducts) {\r\n      this.$store.commit(\"SET_ACTUAL_PRODUCTS\", storedActualProducts);\r\n    } else {\r\n      this.$store.commit(\"SET_ACTUAL_PRODUCTS\", [\r\n        ...this.$store.state.produits,\r\n      ]);\r\n    }\r\n\r\n    this.$store.dispatch('initializeCategories');\r\n    this.$store.dispatch(\"initializeActualProducts\");\r\n    this.filteredProducts = this.actualProducts;\r\n    this.$store.dispatch(\"updateCategoriesV\");\r\n    this.loadFavorites();\r\n    this.loadCart();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.products-section {\r\n  margin-top: 50px;\r\n}\r\nh2 {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  text-align: left;\r\n}\r\n\r\n.products-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  margin: 20px auto;\r\n  width: 80%;\r\n}\r\n\r\n.unavailable {\r\n  color: rgb(231, 67, 39);\r\n}\r\n\r\n.greyed {\r\n  opacity: 0.4;\r\n}\r\n\r\n.product {\r\n  width: calc(25% - 10px);\r\n  border: 1px solid #eee;\r\n  padding-bottom: 20px;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.product img {\r\n  width: 100%;\r\n  height: 250px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n\r\n.product-info {\r\n  padding: 0 20px;\r\n}\r\n\r\n.product:hover {\r\n  border: 1px solid rgb(231, 67, 39);\r\n  transition: 0.3s ease;\r\n}\r\n\r\nh2 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-section {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  text-align: left;\r\n}\r\n\r\n#categories {\r\n  font-size: 1em;\r\n  width: 250px;\r\n  line-height: 1;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  margin: 5px;\r\n}\r\n\r\n.input-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.input-group svg {\r\n  margin-right: 5px;\r\n}\r\n\r\n#searchInput {\r\n  font-size: 1em;\r\n  width: 250px;\r\n  line-height: 1;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n}\r\n\r\n.details-link {\r\n  display: block;\r\n  font-size: 0.9em;\r\n  text-decoration: none;\r\n  margin-top: 5px;\r\n}\r\n\r\n.bi-heart,\r\n.bi-heart-fill {\r\n  color: rgb(231, 67, 39);\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.removeFromCartBtn {\r\n  background-color: rgb(94, 25, 111);\r\n}\r\n\r\n.disabledButton {\r\n  background-color: #ccc;\r\n  color: #555;\r\n  cursor: not-allowed;\r\n  opacity: 0.6;\r\n}\r\n\r\n.guestMessage {\r\n  font-size: 0.8em;\r\n  font-style: italic;\r\n  color: rgb(231, 67, 39);\r\n}\r\n\r\n#category {\r\n  font-size: 1em;\r\n  width: 250px;\r\n  line-height: 1;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  margin: 5px;\r\n}\r\n\r\n@media screen and (min-width: 768px) and (max-width: 1023px) {\r\n  .product {\r\n    width: calc(33.33% - 10px);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n  .product {\r\n    width: calc(50% - 10px);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .product {\r\n    width: calc(100% - 10px);\r\n  }\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}