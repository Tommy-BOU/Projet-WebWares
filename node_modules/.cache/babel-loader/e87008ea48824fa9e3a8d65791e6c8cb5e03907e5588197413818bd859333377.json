{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createBlock as _createBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-71923496\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"products-section\"\n};\nconst _hoisted_2 = {\n  class: \"filter-section\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"currentColor\",\n  class: \"bi bi-tag\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0\"\n}), /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586 7 7L13.586 9l-7-7H2z\"\n})], -1));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"Tous produits\"\n}, \"Catégorie\", -1));\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = {\n  class: \"input-group\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"16\",\n  height: \"16\",\n  fill: \"currentColor\",\n  class: \"bi bi-search\",\n  viewBox: \"0 0 16 16\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0\"\n})], -1));\nconst _hoisted_8 = {\n  class: \"products-grid\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"in-stock\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\n}, null, -1));\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\n}, null, -1));\nconst _hoisted_15 = [_hoisted_14];\nconst _hoisted_16 = [\"src\", \"alt\"];\nconst _hoisted_17 = {\n  class: \"product-info\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_19 = {\n  key: 0\n};\nconst _hoisted_20 = {\n  key: 2\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"guestMessage\"\n};\nconst _hoisted_22 = {\n  key: 3\n};\nconst _hoisted_23 = {\n  key: 1,\n  class: \"out-of-stock\"\n};\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\n}, null, -1));\nconst _hoisted_26 = [_hoisted_25];\nconst _hoisted_27 = [\"onClick\"];\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\n}, null, -1));\nconst _hoisted_29 = [_hoisted_28];\nconst _hoisted_30 = [\"src\", \"alt\"];\nconst _hoisted_31 = {\n  class: \"product-info\"\n};\nconst _hoisted_32 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_33 = {\n  key: 0\n};\nconst _hoisted_34 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_35 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"unavailable\"\n}, \"Produit indisponible\", -1));\nconst _hoisted_36 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_37 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_38 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_GeneralButton = _resolveComponent(\"GeneralButton\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"h2\", null, _toDisplayString($data.chosenCategory), 1), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.chosenCategory = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.filterProductsByCategory && $options.filterProductsByCategory(...args)),\n    name: \"category\",\n    id: \"category\"\n  }, [_hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.categoriesV, category => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: category.id,\n      value: category.name\n    }, _toDisplayString(category.name), 9, _hoisted_5);\n  }), 128))], 544), [[_vModelSelect, $data.chosenCategory]]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchTerm = $event),\n    onInput: _cache[3] || (_cache[3] = $event => $options.handleSearch()),\n    type: \"text\",\n    id: \"searchInput\",\n    placeholder: \"Rechercher par nom de produit\"\n  }, null, 544), [[_vModelText, $data.searchTerm]])])]), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.filteredProducts, (produit, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"product\"\n    }, [produit.stock >= produit.moq ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [!$options.isFavorite(produit) || $data.groupe != 'USER' ? (_openBlock(), _createElementBlock(\"svg\", {\n      key: 0,\n      onClick: $event => $options.toggleFavorite(produit),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      fill: \"currentColor\",\n      class: \"bi bi-heart\",\n      viewBox: \"0 0 16 16\"\n    }, _hoisted_12, 8, _hoisted_10)) : (_openBlock(), _createElementBlock(\"svg\", {\n      key: 1,\n      onClick: $event => $options.toggleFavorite(produit),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      fill: \"currentColor\",\n      class: \"bi bi-heart-fill\",\n      viewBox: \"0 0 16 16\"\n    }, _hoisted_15, 8, _hoisted_13)), _createElementVNode(\"img\", {\n      src: produit.image,\n      alt: produit.titre\n    }, null, 8, _hoisted_16), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"h4\", null, _toDisplayString(produit.titre), 1), _hoisted_18, $data.groupe !== 'GUEST' ? (_openBlock(), _createElementBlock(\"p\", _hoisted_19, _toDisplayString(produit.prix) + \" €\", 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"p\", null, \"Commande minimum : \" + _toDisplayString(produit.moq), 1)]), $data.groupe !== 'USER' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createVNode(_component_GeneralButton, {\n      label: \"Ajouter au panier\",\n      disabled: $data.disableButton,\n      class: \"disabledButton\",\n      title: \"Cette fonctionnalité n'est disponible que pour nos membres.\"\n    }, null, 8, [\"disabled\"]), $data.identite === 'guest' ? (_openBlock(), _createElementBlock(\"p\", _hoisted_21, \" Vous devez être membre pour pouvoir commander. \")) : _createCommentVNode(\"\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [!$options.isInCart(produit) ? (_openBlock(), _createBlock(_component_GeneralButton, {\n      key: 0,\n      label: \"Ajouter au panier\",\n      onGeneralEvent: $event => $options.addOrRemove(produit)\n    }, null, 8, [\"onGeneralEvent\"])) : _createCommentVNode(\"\", true), $options.isInCart(produit) ? (_openBlock(), _createBlock(_component_GeneralButton, {\n      key: 1,\n      label: \"Retirer du panier\",\n      onGeneralEvent: $event => $options.addOrRemove(produit),\n      class: \"removeFromCartBtn\"\n    }, null, 8, [\"onGeneralEvent\"])) : _createCommentVNode(\"\", true)])), _createVNode(_component_router_link, {\n      to: {\n        name: 'produits-details',\n        params: {\n          id: index\n        }\n      },\n      class: \"details-link\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Détails du produit\")]),\n      _: 2\n    }, 1032, [\"to\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [!$options.isFavorite(produit) || $data.groupe != 'USER' ? (_openBlock(), _createElementBlock(\"svg\", {\n      key: 0,\n      onClick: $event => $options.toggleFavorite(produit),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      fill: \"currentColor\",\n      class: \"bi bi-heart\",\n      viewBox: \"0 0 16 16\"\n    }, _hoisted_26, 8, _hoisted_24)) : (_openBlock(), _createElementBlock(\"svg\", {\n      key: 1,\n      onClick: $event => $options.toggleFavorite(produit),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      fill: \"currentColor\",\n      class: \"bi bi-heart-fill\",\n      viewBox: \"0 0 16 16\"\n    }, _hoisted_29, 8, _hoisted_27)), _createElementVNode(\"img\", {\n      src: produit.image,\n      alt: produit.titre,\n      class: \"greyed\"\n    }, null, 8, _hoisted_30), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"h4\", null, _toDisplayString(produit.titre), 1), _hoisted_32, $data.groupe !== 'GUEST' ? (_openBlock(), _createElementBlock(\"p\", _hoisted_33, _toDisplayString(produit.prix) + \" €\", 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"p\", null, \"Commande minimum : \" + _toDisplayString(produit.moq), 1)]), _hoisted_34, _hoisted_35]))]);\n  }), 128))])]), _hoisted_36, _hoisted_37, _hoisted_38], 64);\n}","map":{"version":3,"names":["class","_createElementVNode","xmlns","width","height","fill","viewBox","d","value","key","_hoisted_11","_hoisted_14","_hoisted_25","_hoisted_28","_createElementBlock","_Fragment","_hoisted_1","_toDisplayString","$data","chosenCategory","_hoisted_2","_hoisted_3","_cache","$event","onChange","args","$options","filterProductsByCategory","name","id","_hoisted_4","_renderList","categoriesV","category","_hoisted_5","_hoisted_6","_hoisted_7","searchTerm","onInput","handleSearch","type","placeholder","_hoisted_8","filteredProducts","produit","index","stock","moq","_hoisted_9","isFavorite","groupe","onClick","toggleFavorite","_hoisted_12","_hoisted_10","_hoisted_15","_hoisted_13","src","image","alt","titre","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","prix","_createCommentVNode","_hoisted_20","_createVNode","_component_GeneralButton","label","disabled","disableButton","title","identite","_hoisted_21","_hoisted_22","isInCart","_createBlock","onGeneralEvent","addOrRemove","_component_router_link","to","params","default","_withCtx","_createTextVNode","_","_hoisted_23","_hoisted_26","_hoisted_24","_hoisted_29","_hoisted_27","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38"],"sources":["/workspaces/Projet-WebWares/src/views/ProductList.vue"],"sourcesContent":["<template>\r\n  <div class=\"products-section\">\r\n    <h2>{{ chosenCategory }}</h2>\r\n\r\n    <div class=\"filter-section\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"16\"\r\n        height=\"16\"\r\n        fill=\"currentColor\"\r\n        class=\"bi bi-tag\"\r\n        viewBox=\"0 0 16 16\"\r\n      >\r\n        <path\r\n          d=\"M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0\"\r\n        />\r\n        <path\r\n          d=\"M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1m0 5.586 7 7L13.586 9l-7-7H2z\"\r\n        />\r\n      </svg>\r\n      <select\r\n        v-model=\"chosenCategory\"\r\n        @change=\"filterProductsByCategory\"\r\n        name=\"category\"\r\n        id=\"category\"\r\n      >\r\n        <option value=\"Tous produits\">Catégorie</option>\r\n        <option\r\n          v-for=\"category in categoriesV\"\r\n          :key=\"category.id\"\r\n          :value=\"category.name\"\r\n        >\r\n          {{ category.name }}\r\n        </option>\r\n      </select>\r\n      <!-- <select v-model=\"chosenCategory\" @change=\"filterProductsByCategory()\" name=\"categories\" id=\"categories\">\r\n        <option value=\"Tous produits\">Catégorie</option>\r\n        <option value=\"Mobilier d'intérieur\">Mobilier d'intérieur</option>\r\n        <option value=\"Luminaires\">Luminaires</option>\r\n        <option value=\"Tapis\">Tapis</option>\r\n        <option value=\"Objets de décoration\">Objets de décoration</option>\r\n      </select> -->\r\n      <div class=\"input-group\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-search\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path\r\n            d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0\"\r\n          />\r\n        </svg>\r\n        <input\r\n          v-model=\"searchTerm\"\r\n          @input=\"handleSearch()\"\r\n          type=\"text\"\r\n          id=\"searchInput\"\r\n          placeholder=\"Rechercher par nom de produit\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"products-grid\">\r\n      <div\r\n        v-for=\"(produit, index) in filteredProducts\"\r\n        :key=\"index\"\r\n        class=\"product\"\r\n      >\r\n        <div class=\"in-stock\" v-if=\"produit.stock >= produit.moq\">\r\n          <svg\r\n            v-if=\"!isFavorite(produit) || groupe != 'USER'\"\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            v-else\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\r\n            />\r\n          </svg>\r\n          <img :src=\"produit.image\" :alt=\"produit.titre\" />\r\n          <div class=\"product-info\">\r\n            <h4>{{ produit.titre }}</h4>\r\n            <br />\r\n            <p v-if=\"groupe !== 'GUEST'\">{{ produit.prix }} €</p>\r\n            <p>Commande minimum : {{ produit.moq }}</p>\r\n          </div>\r\n          <div v-if=\"groupe !== 'USER'\">\r\n            <GeneralButton\r\n              label=\"Ajouter au panier\"\r\n              :disabled=\"disableButton\"\r\n              class=\"disabledButton\"\r\n              title=\"Cette fonctionnalité n'est disponible que pour nos membres.\"\r\n            />\r\n            <p v-if=\"identite === 'guest'\" class=\"guestMessage\">\r\n              Vous devez être membre pour pouvoir commander.\r\n            </p>\r\n          </div>\r\n          <div v-else>\r\n            <GeneralButton\r\n              label=\"Ajouter au panier\"\r\n              @generalEvent=\"addOrRemove(produit)\"\r\n              v-if=\"!isInCart(produit)\"\r\n            />\r\n            <GeneralButton\r\n              label=\"Retirer du panier\"\r\n              @generalEvent=\"addOrRemove(produit)\"\r\n              class=\"removeFromCartBtn\"\r\n              v-if=\"isInCart(produit)\"\r\n            />\r\n          </div>\r\n          <router-link\r\n            :to=\"{ name: 'produits-details', params: { id: index } }\"\r\n            class=\"details-link\"\r\n            >Détails du produit</router-link\r\n          >\r\n        </div>\r\n        <div class=\"out-of-stock\" v-else>\r\n          <svg\r\n            v-if=\"!isFavorite(produit) || groupe != 'USER'\"\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            v-else\r\n            @click=\"toggleFavorite(produit)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\r\n            />\r\n          </svg>\r\n          <img :src=\"produit.image\" :alt=\"produit.titre\" class=\"greyed\" />\r\n          <div class=\"product-info\">\r\n            <h4>{{ produit.titre }}</h4>\r\n            <br />\r\n            <p v-if=\"groupe !== 'GUEST'\">{{ produit.prix }} €</p>\r\n            <p>Commande minimum : {{ produit.moq }}</p>\r\n          </div>\r\n          <br />\r\n          <p class=\"unavailable\">Produit indisponible</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <br />\r\n  <br />\r\n  <br />\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport GeneralButton from \"@/components/GeneralButton.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    GeneralButton,\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\r\n      \"produits\",\r\n      \"cartItems\",\r\n      \"favorites\",\r\n      \"categories\",\r\n      \"actualProducts\",\r\n    ]),\r\n    categoriesV() {\r\n      return this.$store.state.categoriesV;\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      identite: \"guest\",\r\n      groupe: \"GUEST\",\r\n      searchTerm: \"\",\r\n      // actualProducts: [...this.$store.state.produits],\r\n      filteredProducts: [],\r\n      chosenCategory: \"Tous produits\",\r\n      disableButton: true,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    isInCart(item) {\r\n      return (\r\n        this.cartItems.find((cartItem) => cartItem.id === item.id) !== undefined\r\n      );\r\n    },\r\n    addOrRemove(product) {\r\n      const isInCart = this.isInCart(product);\r\n      const mutationType = isInCart ? \"REMOVE_FROM_CART\" : \"ADD_TO_CART\";\r\n      product.quantity = product.moq;\r\n      this.$store.commit(mutationType, product);\r\n      this.saveCart();\r\n    },\r\n    saveCart() {\r\n      localStorage.setItem(\"cartItems\", JSON.stringify(this.cartItems));\r\n      console.log(\"Saved Cart:\", this.cartItems);\r\n    },\r\n    isFavorite(product) {\r\n      return this.favorites.some((fav) => fav.id === product.id);\r\n    },\r\n    toggleFavorite(product) {\r\n      if (this.groupe !== \"USER\") {\r\n        alert(\"Vous devez être membre pour pouvoir créer des favoris.\");\r\n      } else {\r\n        const index = this.favorites.findIndex((fav) => fav.id === product.id);\r\n\r\n        if (index === -1) {\r\n          // If the product is not in favorites, add it\r\n          this.$store.commit(\"ADD_TO_FAVORITES\", product);\r\n        } else {\r\n          // If the product is in favorites, remove it\r\n          this.$store.commit(\"REMOVE_FROM_FAVORITES\", product);\r\n        }\r\n\r\n        this.saveFavorites();\r\n      }\r\n    },\r\n\r\n    saveFavorites() {\r\n      localStorage.setItem(\"favorites\", JSON.stringify(this.favorites));\r\n      console.log(\"Saved Favorites:\", this.favorites);\r\n    },\r\n    loadFavorites() {\r\n      const storedFavorites = localStorage.getItem(\"favorites\");\r\n      if (storedFavorites) {\r\n        this.$store.commit(\"SET_FAVORITES\", JSON.parse(storedFavorites));\r\n      }\r\n    },\r\n    filterProductsByCategory() {\r\n      const selectedCategory = this.categoriesV.find(\r\n        (category) => category.name === this.chosenCategory\r\n      );\r\n      this.filterProducts(selectedCategory);\r\n    },\r\n\r\n    handleSearch() {\r\n      const selectedCategory = this.categoriesV.find(\r\n        (category) => category.name === this.chosenCategory\r\n      );\r\n\r\n      this.filterProducts(selectedCategory);\r\n    },\r\n\r\n    filterProducts(selectedCategory) {\r\n      this.filteredProducts = selectedCategory\r\n        ? this.actualProducts\r\n            .filter((product) => product.categorieId === selectedCategory.id)\r\n            .filter((product) =>\r\n              product.titre\r\n                .toLowerCase()\r\n                .includes(this.searchTerm.toLowerCase())\r\n            )\r\n        : this.actualProducts.filter((product) =>\r\n            product.titre.toLowerCase().includes(this.searchTerm.toLowerCase())\r\n          );\r\n    },\r\n    loadCart() {\r\n      const storedCartItems = localStorage.getItem(\"cartItems\");\r\n      if (storedCartItems) {\r\n        this.$store.commit(\"SET_CART_ITEMS\", JSON.parse(storedCartItems));\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    console.log(\"Component created\");\r\n    let identity = localStorage.getItem(\"myIdentity\");\r\n    if (identity) {\r\n      this.identite = JSON.parse(\r\n        localStorage.getItem(\"myIdentity\")\r\n      ).raisonSociale;\r\n\r\n      this.$store.commit(\"CHANGE_IDENTITY\", this.identite);\r\n\r\n      this.groupe = JSON.parse(localStorage.getItem(\"myIdentity\")).role;\r\n    }\r\n\r\n    const storedActualProducts = JSON.parse(\r\n      localStorage.getItem(\"actualProducts\")\r\n    );\r\n    if (storedActualProducts) {\r\n      this.$store.commit(\"SET_ACTUAL_PRODUCTS\", storedActualProducts);\r\n    } else {\r\n      this.$store.commit(\"SET_ACTUAL_PRODUCTS\", [\r\n        ...this.$store.state.produits,\r\n      ]);\r\n    }\r\n\r\n    this.$store.dispatch('initializeCategories');\r\n    this.$store.dispatch(\"initializeActualProducts\");\r\n    this.filteredProducts = this.actualProducts;\r\n    this.$store.dispatch(\"updateCategoriesV\");\r\n    this.loadFavorites();\r\n    this.loadCart();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.products-section {\r\n  margin-top: 50px;\r\n}\r\nh2 {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  text-align: left;\r\n}\r\n\r\n.products-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  margin: 20px auto;\r\n  width: 80%;\r\n}\r\n\r\n.unavailable {\r\n  color: rgb(231, 67, 39);\r\n}\r\n\r\n.greyed {\r\n  opacity: 0.4;\r\n}\r\n\r\n.product {\r\n  width: calc(25% - 10px);\r\n  border: 1px solid #eee;\r\n  padding-bottom: 20px;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.product img {\r\n  width: 100%;\r\n  height: 250px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n\r\n.product-info {\r\n  padding: 0 20px;\r\n}\r\n\r\n.product:hover {\r\n  border: 1px solid rgb(231, 67, 39);\r\n  transition: 0.3s ease;\r\n}\r\n\r\nh2 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-section {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  text-align: left;\r\n}\r\n\r\n#categories {\r\n  font-size: 1em;\r\n  width: 250px;\r\n  line-height: 1;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  margin: 5px;\r\n}\r\n\r\n.input-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.input-group svg {\r\n  margin-right: 5px;\r\n}\r\n\r\n#searchInput {\r\n  font-size: 1em;\r\n  width: 250px;\r\n  line-height: 1;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n}\r\n\r\n.details-link {\r\n  display: block;\r\n  font-size: 0.9em;\r\n  text-decoration: none;\r\n  margin-top: 5px;\r\n}\r\n\r\n.bi-heart,\r\n.bi-heart-fill {\r\n  color: rgb(231, 67, 39);\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.removeFromCartBtn {\r\n  background-color: rgb(94, 25, 111);\r\n}\r\n\r\n.disabledButton {\r\n  background-color: #ccc;\r\n  color: #555;\r\n  cursor: not-allowed;\r\n  opacity: 0.6;\r\n}\r\n\r\n.guestMessage {\r\n  font-size: 0.8em;\r\n  font-style: italic;\r\n  color: rgb(231, 67, 39);\r\n}\r\n\r\n#category {\r\n  font-size: 1em;\r\n  width: 250px;\r\n  line-height: 1;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  margin: 5px;\r\n}\r\n\r\n@media screen and (min-width: 768px) and (max-width: 1023px) {\r\n  .product {\r\n    width: calc(33.33% - 10px);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 767px) {\r\n  .product {\r\n    width: calc(50% - 10px);\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .product {\r\n    width: calc(100% - 10px);\r\n  }\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}