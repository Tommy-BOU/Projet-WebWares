{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-3dae2e9c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  key: 0,\n  class: \"panier-container\"\n};\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = {\n  class: \"text-container\"\n};\nconst _hoisted_4 = {\n  class: \"product-title\"\n};\nconst _hoisted_5 = {\n  class: \"product-description\"\n};\nconst _hoisted_6 = {\n  class: \"buttons-container\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  class: \"quantity-container\"\n};\nconst _hoisted_9 = {\n  class: \"quantity-manager\"\n};\nconst _hoisted_10 = {\n  class: \"buttons\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = [\"onClick\"];\nconst _hoisted_13 = {\n  class: \"total-article\"\n};\nconst _hoisted_14 = {\n  class: \"totalHT\"\n};\nconst _hoisted_15 = {\n  class: \"totalTTC\"\n};\nconst _hoisted_16 = {\n  class: \"total-container\"\n};\nconst _hoisted_17 = {\n  key: 1,\n  class: \"empty-cart\"\n};\nconst _hoisted_18 = {\n  key: 2,\n  class: \"success\"\n};\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_20 = {\n  style: {\n    \"color\": \"green\"\n  }\n};\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_23 = {\n  key: 3,\n  class: \"empty-cart\"\n};\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_25 = {\n  key: 4,\n  class: \"confirmation-modal\"\n};\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Informations de livraison\", -1));\nconst _hoisted_27 = {\n  class: \"input-container\"\n};\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"informations de livraison\", -1));\nconst _hoisted_29 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Adresse :\", -1));\nconst _hoisted_30 = [\"innerHTML\"];\nconst _hoisted_31 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Code postal :\", -1));\nconst _hoisted_32 = [\"innerHTML\"];\nconst _hoisted_33 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Ville :\", -1));\nconst _hoisted_34 = [\"innerHTML\"];\nconst _hoisted_35 = {\n  class: \"modal-total\"\n};\nconst _hoisted_36 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"input\", {\n  class: \"confirmation\",\n  type: \"submit\",\n  value: \"Confirmer commande\"\n}, null, -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [this.$store.getters.getItemsInCart.length !== 0 && $data.groupe === 'USER' && $data.success === '' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.objectsInCart, (product, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"panier-item-card\",\n      key: index\n    }, [_createElementVNode(\"img\", {\n      src: product.image,\n      alt: \"\"\n    }, null, 8, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"p\", _hoisted_4, _toDisplayString(product.titre), 1), _createElementVNode(\"p\", _hoisted_5, _toDisplayString(product.description), 1)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n      class: \"remove-button\",\n      onClick: $event => $options.removeFromCart(product)\n    }, \" Supprimer \", 8, _hoisted_7), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n      onClick: $event => {\n        product.quantity <= product.moq ? product.quantity = product.moq : $options.modifyQuantity(product, -1);\n        product.quantity--;\n      },\n      class: _normalizeClass(product.quantity === product.moq ? 'greyed' : ' ')\n    }, \" - \", 10, _hoisted_11), _createElementVNode(\"p\", null, _toDisplayString(product.quantity), 1), _createElementVNode(\"button\", {\n      onClick: $event => {\n        product.quantity >= product.stock ? product.quantity = product.stock : $options.modifyQuantity(product, 1);\n        product.quantity++;\n      },\n      class: _normalizeClass(product.quantity === product.stock ? 'greyed' : ' ')\n    }, \" + \", 10, _hoisted_12)]), _createElementVNode(\"p\", {\n      class: _normalizeClass(product.quantity >= product.stock ? 'maxStock' : 'faded')\n    }, \" Stock maximal atteint \", 2)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"p\", _hoisted_14, \" Total article HT \" + _toDisplayString((product.quantity * product.prix).toFixed(2)) + \" € \", 1), _createElementVNode(\"p\", _hoisted_15, \" Total article TTC \" + _toDisplayString((product.quantity * product.prix * 1.2).toFixed(2)) + \" € \", 1)])])])]);\n  }), 128)), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"p\", null, \"Grand total HT : \" + _toDisplayString(this.priceTotal.toFixed(2)) + \" €\", 1), _createElementVNode(\"p\", null, \"Grand total TTC : \" + _toDisplayString((this.priceTotal * 1.2).toFixed(2)) + \" €\", 1), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $data.modalToggle = !$data.modalToggle)\n  }, \"Commander\")])])) : this.$store.getters.getItemsInCart.length === 0 && $data.groupe === 'USER' && $data.success === '' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createTextVNode(\" Pas encore de produits dans le panier. Rendez vous sur notre page \"), _createVNode(_component_router_link, {\n    to: \"/produits\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Produits\")]),\n    _: 1\n  })])) : $data.success != '' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_hoisted_19, _createElementVNode(\"span\", _hoisted_20, _toDisplayString($data.success), 1), _hoisted_21, _hoisted_22, _createTextVNode(\" Redirection en cours ... \")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_hoisted_24, _createTextVNode(\" Vous n'êtes pas autorisé à afficher cette page ! \")])), $data.modalToggle ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n    class: \"close-modal\",\n    onClick: _cache[1] || (_cache[1] = $event => $data.modalToggle = !$data.modalToggle)\n  }, \"X\"), _hoisted_26, _createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.confirmOrder && $options.confirmOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_27, [_hoisted_28, _hoisted_29, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"adresse\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newOrder.adresse = $event),\n    onInput: _cache[3] || (_cache[3] = (...args) => $options.verifAdresse && $options.verifAdresse(...args)),\n    required: \"\"\n  }, null, 544), [[_vModelText, $data.newOrder.adresse]]), $data.msg3 != '' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    innerHTML: $data.msg3\n  }, null, 8, _hoisted_30)) : _createCommentVNode(\"\", true), _hoisted_31, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"code postal\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newOrder.codePostal = $event),\n    onInput: _cache[5] || (_cache[5] = (...args) => $options.verifCodePostal && $options.verifCodePostal(...args)),\n    required: \"\"\n  }, null, 544), [[_vModelText, $data.newOrder.codePostal]]), $data.msg4 != '' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 1,\n    innerHTML: $data.msg4\n  }, null, 8, _hoisted_32)) : _createCommentVNode(\"\", true), _hoisted_33, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"ville\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.newOrder.ville = $event),\n    onInput: _cache[7] || (_cache[7] = (...args) => $options.verifVille && $options.verifVille(...args)),\n    required: \"\"\n  }, null, 544), [[_vModelText, $data.newOrder.ville]]), $data.msg5 != '' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 2,\n    innerHTML: $data.msg5\n  }, null, 8, _hoisted_34)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"p\", null, \"Grand total HT : \" + _toDisplayString(this.priceTotal.toFixed(2)) + \" €\", 1), _createElementVNode(\"p\", null, \"Grand total TTC : \" + _toDisplayString((this.priceTotal * 1.2).toFixed(2)) + \" €\", 1)]), _hoisted_36], 32)])) : _createCommentVNode(\"\", true)], 64);\n}","map":{"version":3,"names":["key","class","_createElementVNode","style","type","value","_createElementBlock","_Fragment","$store","getters","getItemsInCart","length","$data","groupe","success","_hoisted_1","_renderList","objectsInCart","product","index","src","image","alt","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","titre","_hoisted_5","description","_hoisted_6","onClick","$event","$options","removeFromCart","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","quantity","moq","modifyQuantity","_normalizeClass","_hoisted_11","stock","_hoisted_12","_hoisted_13","_hoisted_14","prix","toFixed","_hoisted_15","_hoisted_16","priceTotal","_cache","modalToggle","_hoisted_17","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","onSubmit","_withModifiers","args","confirmOrder","_hoisted_27","_hoisted_28","_hoisted_29","placeholder","newOrder","adresse","onInput","verifAdresse","required","msg3","innerHTML","_hoisted_30","_createCommentVNode","_hoisted_31","codePostal","verifCodePostal","msg4","_hoisted_32","_hoisted_33","ville","verifVille","msg5","_hoisted_34","_hoisted_35","_hoisted_36"],"sources":["/workspaces/Projet-WebWares/src/views/PanierView.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"panier-container\"\r\n    v-if=\"\r\n      this.$store.getters.getItemsInCart.length !== 0 &&\r\n      groupe === 'USER' &&\r\n      success === ''\r\n    \"\r\n  >\r\n    <div\r\n      class=\"panier-item-card\"\r\n      v-for=\"(product, index) in this.objectsInCart\"\r\n      :key=\"index\"\r\n    >\r\n      <img :src=\"product.image\" alt=\"\" />\r\n      <div class=\"text-container\">\r\n        <p class=\"product-title\">{{ product.titre }}</p>\r\n        <p class=\"product-description\">{{ product.description }}</p>\r\n      </div>\r\n      <div class=\"buttons-container\">\r\n        <button class=\"remove-button\" @click=\"removeFromCart(product)\">\r\n          Supprimer\r\n        </button>\r\n        <div class=\"quantity-container\">\r\n          <div class=\"quantity-manager\">\r\n            <div class=\"buttons\">\r\n              <button\r\n                @click=\"\r\n                  product.quantity <= product.moq\r\n                    ? (product.quantity = product.moq)\r\n                    : modifyQuantity(product, -1);\r\n                  product.quantity--;\r\n                \"\r\n                :class=\"product.quantity === product.moq ? 'greyed' : ' '\"\r\n              >\r\n                -\r\n              </button>\r\n              <p>{{ product.quantity }}</p>\r\n              <button\r\n                @click=\"\r\n                  product.quantity >= product.stock\r\n                    ? (product.quantity = product.stock)\r\n                    : modifyQuantity(product, 1);\r\n                  product.quantity++;\r\n                \"\r\n                :class=\"product.quantity === product.stock ? 'greyed' : ' '\"\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n            <p\r\n              :class=\"product.quantity >= product.stock ? 'maxStock' : 'faded'\"\r\n            >\r\n              Stock maximal atteint\r\n            </p>\r\n          </div>\r\n          <div class=\"total-article\">\r\n            <p class=\"totalHT\">\r\n              Total article HT\r\n              {{ (product.quantity * product.prix).toFixed(2) }} €\r\n            </p>\r\n            <p class=\"totalTTC\">\r\n              Total article TTC\r\n              {{ (product.quantity * product.prix * 1.2).toFixed(2) }} €\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"total-container\">\r\n      <p>Grand total HT : {{ this.priceTotal.toFixed(2) }} €</p>\r\n      <p>Grand total TTC : {{ (this.priceTotal * 1.2).toFixed(2) }} €</p>\r\n      <button @click=\"modalToggle = !modalToggle\">Commander</button>\r\n    </div>\r\n  </div>\r\n  <div\r\n    class=\"empty-cart\"\r\n    v-else-if=\"\r\n      this.$store.getters.getItemsInCart.length === 0 &&\r\n      groupe === 'USER' &&\r\n      success === ''\r\n    \"\r\n  >\r\n    Pas encore de produits dans le panier. Rendez vous sur notre page\r\n    <router-link to=\"/produits\">Produits</router-link>\r\n  </div>\r\n  <div class=\"success\" v-else-if=\"success != ''\">\r\n    <br />\r\n    <span style=\"color: green\">{{ success }}</span>\r\n    <br /><br />\r\n    Redirection en cours ...\r\n  </div>\r\n  <div class=\"empty-cart\" v-else>\r\n    <br />\r\n    Vous n'êtes pas autorisé à afficher cette page !\r\n  </div>\r\n\r\n  <div v-if=\"modalToggle\" class=\"confirmation-modal\">\r\n    <button class=\"close-modal\" @click=\"modalToggle = !modalToggle\">X</button>\r\n\r\n    <p>Informations de livraison</p>\r\n    <form v-on:submit.prevent=\"confirmOrder\">\r\n      <div class=\"input-container\">\r\n        <h1>informations de livraison</h1>\r\n        <p>Adresse :</p>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"adresse\"\r\n          v-model=\"newOrder.adresse\"\r\n          @input=\"verifAdresse\"\r\n          required\r\n        />\r\n        <span v-html=\"msg3\" v-if=\"msg3 != ''\"></span>\r\n        <p>Code postal :</p>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"code postal\"\r\n          v-model=\"newOrder.codePostal\"\r\n          @input=\"verifCodePostal\"\r\n          required\r\n        />\r\n        <span v-html=\"msg4\" v-if=\"msg4 != ''\"></span>\r\n        <p>Ville :</p>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"ville\"\r\n          v-model=\"newOrder.ville\"\r\n          @input=\"verifVille\"\r\n          required\r\n        />\r\n        <span v-html=\"msg5\" v-if=\"msg5 != ''\"></span>\r\n      </div>\r\n      <div class=\"modal-total\">\r\n        <p>Grand total HT : {{ this.priceTotal.toFixed(2) }} €</p>\r\n        <p>Grand total TTC : {{ (this.priceTotal * 1.2).toFixed(2) }} €</p>\r\n      </div>\r\n      <input class=\"confirmation\" type=\"submit\" value=\"Confirmer commande\" />\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nfunction isNumeric(value) {\r\n  return /^-?\\d+$/.test(value);\r\n}\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      objectsInCart: [],\r\n      priceTotal: 0,\r\n      modalToggle: false,\r\n      validInput3: true,\r\n      validInput4: true,\r\n      validInput5: true,\r\n      msg3: \" \",\r\n      msg4: \" \",\r\n      msg5: \" \",\r\n      newOrder: {\r\n        orderNumber: null,\r\n        date: \"\",\r\n        titreProduits: [],\r\n        prixUnitaire: [],\r\n        prixArticles: [],\r\n        quantité: [],\r\n        coutTotal: 0,\r\n        entreprise: \"\",\r\n        adresse: \"\",\r\n        codePostal: \"\",\r\n        ville: \"\",\r\n        delivered: false,\r\n      },\r\n      groupe: \"GUEST\",\r\n      identite: \"guest\",\r\n      adresse: \"\",\r\n      postCode: \"\",\r\n      city: \"\",\r\n      success: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    itemsInCart() {\r\n      return this.$store.getters.getItemsInCart;\r\n    },\r\n    ...mapState([\"listOfOrders\"]),\r\n  },\r\n  methods: {\r\n    verifAdresse() {\r\n      if (this.newOrder.adresse.trim().length >= 2) {\r\n        this.msg3 = \"Votre Adresse est correcte. \\u2705\";\r\n        this.validInput3 = true;\r\n      } else {\r\n        this.msg3 = \"Votre Adresse doit contenir au moins 2 caractères. \\u274C\";\r\n        this.validInput3 = false;\r\n      }\r\n    },\r\n\r\n    verifCodePostal() {\r\n      if (\r\n        this.newOrder.codePostal.length === 5 &&\r\n        isNumeric(this.newOrder.codePostal) === true\r\n      ) {\r\n        this.msg4 = \"Votre Code Postal est correct. \\u2705\";\r\n        this.validInput4 = true;\r\n      } else {\r\n        this.msg4 = \"Votre Code Postal doit contenir 5 chiffres. \\u274C\";\r\n        this.validInput4 = false;\r\n      }\r\n    },\r\n\r\n    verifVille() {\r\n      if (this.newOrder.ville.trim().length >= 2) {\r\n        this.msg5 = \"Votre Ville est correcte. \\u2705\";\r\n        this.validInput5 = true;\r\n      } else {\r\n        this.msg5 = \"Votre Ville doit contenir au moins 2 caractères. \\u274C\";\r\n        this.validInput5 = false;\r\n      }\r\n    },\r\n    modifyQuantity(product, int) {\r\n      const storedCartItems = JSON.parse(localStorage.getItem(\"cartItems\"));\r\n      for (let obj of storedCartItems) {\r\n        if (obj.id === product.id) {\r\n          obj.quantity += int;\r\n          localStorage.setItem(\"cartItems\", JSON.stringify(storedCartItems));\r\n        }\r\n      }\r\n    },\r\n    setCartData() {\r\n      let sum = 0;\r\n      for (let i of this.objectsInCart) {\r\n        sum += i.quantity * i.prix;\r\n      }\r\n      this.priceTotal = sum;\r\n    },\r\n    removeFromCart(product) {\r\n      if (confirm(\"Êtes-vous sûr de vouloir retirer ce produit ?\")) {\r\n        this.$store.commit(\"REMOVE_FROM_CART\", product);\r\n      }\r\n    },\r\n    confirmOrder() {\r\n      if (\r\n        this.validInput3 &&\r\n        this.validInput4 &&\r\n        this.validInput5 &&\r\n        confirm(\"Voulez-vous valider la commande ?\")\r\n      ) {\r\n        this.newOrder.orderNumber = this.listOfOrders.length + 1;\r\n        this.newOrder.date = new Date().toLocaleDateString();\r\n        this.newOrder.entreprise = this.identite;\r\n        for (let data of this.objectsInCart) {\r\n          this.newOrder.titreProduits.push(data.titre);\r\n          this.newOrder.prixUnitaire.push(data.prix);\r\n          this.newOrder.prixArticles.push(data.prix * data.quantity);\r\n          this.newOrder.quantité.push(data.quantity);\r\n          this.newOrder.coutTotal += data.prix * data.quantity;\r\n          this.$store.commit(\"UPDATE_STOCK\", data);\r\n        }\r\n\r\n        this.$store.dispatch(\"placeNewOrder\", this.newOrder);\r\n        localStorage.setItem(\"orders\", JSON.stringify(this.listOfOrders));\r\n        this.modalToggle = false;\r\n        this.success = \"Commande enregistrée.\";\r\n\r\n        setTimeout(() => (this.success = \"\"), 2500);\r\n        setTimeout(() => this.$router.push({ path: \"/mes-commandes\" }), 2500);\r\n      }\r\n    },\r\n    loadCart() {\r\n      const storedCartItems = localStorage.getItem(\"cartItems\");\r\n      if (storedCartItems) {\r\n        this.$store.commit(\"SET_CART_ITEMS\", JSON.parse(storedCartItems));\r\n        this.objectsInCart = JSON.parse(storedCartItems);\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    let orders = localStorage.getItem(\"orders\");\r\n    if (orders) {\r\n      this.$store.commit(\"SET_ORDERS\");\r\n    }\r\n    let identity = localStorage.getItem(\"myIdentity\");\r\n    if (identity) {\r\n      this.identite = JSON.parse(\r\n        localStorage.getItem(\"myIdentity\")\r\n      ).raisonSociale;\r\n      this.$store.commit(\"CHANGE_IDENTITY\", this.identite);\r\n\r\n      this.groupe = JSON.parse(localStorage.getItem(\"myIdentity\")).role;\r\n      this.$store.commit(\"CHANGE_GROUP\", this.groupe);\r\n\r\n      this.newOrder.adresse = JSON.parse(\r\n        localStorage.getItem(\"myIdentity\")\r\n      ).adresse;\r\n      this.newOrder.codePostal = JSON.parse(\r\n        localStorage.getItem(\"myIdentity\")\r\n      ).codePostal;\r\n      this.newOrder.ville = JSON.parse(\r\n        localStorage.getItem(\"myIdentity\")\r\n      ).ville;\r\n    }\r\n\r\n    this.loadCart();\r\n\r\n    this.setCartData();\r\n  },\r\n  mounted() {},\r\n  beforeUpdate() {\r\n    this.loadCart();\r\n  },\r\n  updated() {\r\n    this.setCartData();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.success {\r\n  width: 600px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  border: 1px solid rgb(231, 67, 39);\r\n  padding: 0 40px 30px 20px;\r\n}\r\n\r\n.confirmation-modal {\r\n  .close-modal {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    z-index: 200;\r\n    background: none;\r\n    border: none;\r\n    cursor: pointer;\r\n    margin: 10px;\r\n    font-size: 35px;\r\n  }\r\n  form {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    background: rgb(231, 67, 39);\r\n    z-index: 100;\r\n    display: flex;\r\n    gap: 15px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n\r\n    .input-container {\r\n      width: 30%;\r\n      color: white;\r\n      display: flex;\r\n      gap: 15px;\r\n      justify-content: center;\r\n      align-items: flex-start;\r\n      flex-direction: column;\r\n\r\n      input {\r\n        width: 100%;\r\n        padding: 5px 10px;\r\n        border-radius: 5px;\r\n      }\r\n    }\r\n\r\n    .modal-total {\r\n      font-weight: bold;\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 10px;\r\n    }\r\n\r\n    .confirmation {\r\n      background-color: #4caf50;\r\n      border: none;\r\n      color: white;\r\n      border-radius: 5px;\r\n      padding: 10px 25px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n\r\n.panier-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.panier-item-card {\r\n  margin: 10px 0;\r\n  padding: 10px 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 1000px;\r\n  gap: 30px;\r\n  border-bottom: 1px solid lightgrey;\r\n\r\n  .text-container {\r\n    p {\r\n      margin: 0 25px;\r\n      width: 400px;\r\n    }\r\n\r\n    .product-title {\r\n      font-weight: bold;\r\n      margin-bottom: 25px;\r\n    }\r\n  }\r\n\r\n  img {\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n}\r\n\r\n.remove-button {\r\n  background: none;\r\n  cursor: pointer;\r\n  border: none;\r\n  text-decoration: underline;\r\n  margin: 10px 0;\r\n}\r\n\r\n.buttons-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  height: 100%;\r\n  width: 50%;\r\n\r\n  .quantity-container {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n\r\n    .quantity-manager {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 15px;\r\n\r\n      .maxStock {\r\n        color: rgb(231, 67, 39);\r\n      }\r\n      .faded {\r\n        opacity: 0;\r\n      }\r\n      .buttons {\r\n        display: flex;\r\n        justify-content: center;\r\n\r\n        button {\r\n          width: 25px;\r\n          height: 20px;\r\n          border-radius: 3px;\r\n          align-self: center;\r\n          background-color: rgb(228, 228, 228);\r\n          border: 1px solid black;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .greyed {\r\n          border: 1px solid lightgrey;\r\n          color: lightgrey;\r\n        }\r\n      }\r\n    }\r\n\r\n    p {\r\n      align-self: center;\r\n      margin: 0 5px;\r\n    }\r\n    .total-article {\r\n      text-align: right;\r\n      margin-left: 25px;\r\n      line-height: 200%;\r\n      font-size: 0.8em;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n\r\n.total-container {\r\n  width: 69%;\r\n  display: flex;\r\n  gap: 15px;\r\n  font-weight: bold;\r\n  justify-content: flex-end;\r\n  align-items: flex-end;\r\n  flex-direction: column;\r\n\r\n  button {\r\n    cursor: pointer;\r\n    color: white;\r\n    background-color: #4caf50;\r\n    border: 1px solid lightgrey;\r\n    border-radius: 5px;\r\n    padding: 10px 25px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 1024px) {\r\n  .panier-item-card {\r\n    margin: 10px 0;\r\n    padding: 10px 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 500px;\r\n    gap: 10px;\r\n    border-bottom: 1px solid lightgrey;\r\n    border-top: 1px solid lightgrey;\r\n\r\n    .text-container {\r\n      align-self: center;\r\n      p {\r\n        margin: 0 10px;\r\n        width: 400px;\r\n      }\r\n\r\n      .product-title {\r\n        font-weight: bold;\r\n        margin-bottom: 25px;\r\n      }\r\n    }\r\n\r\n    img {\r\n      align-self: center;\r\n      width: 100px;\r\n      height: 100px;\r\n    }\r\n    .buttons-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-end;\r\n      height: 100%;\r\n      width: 100%;\r\n\r\n      .quantity-container {\r\n        width: 70%;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n\r\n        p {\r\n          align-self: center;\r\n          margin: 0 5px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n  .empty-cart {\r\n    padding-top: 50px;\r\n    width: 100%;\r\n  }\r\n\r\n  .panier-item-card {\r\n    margin: 10px 0;\r\n    padding: 10px 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    width: 300px;\r\n    gap: 5px;\r\n    border-bottom: 1px solid lightgrey;\r\n    border-top: 1px solid lightgrey;\r\n\r\n    .text-container {\r\n      p {\r\n        margin: 0 10px;\r\n        width: 250px;\r\n      }\r\n\r\n      .product-title {\r\n        font-weight: bold;\r\n        margin-bottom: 25px;\r\n      }\r\n    }\r\n\r\n    img {\r\n      width: 100px;\r\n      height: 100px;\r\n    }\r\n    .buttons-container {\r\n      display: flex;\r\n      height: 100%;\r\n      width: 100%;\r\n\r\n      .quantity-container {\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n\r\n        p {\r\n          align-self: center;\r\n          margin: 0 5px;\r\n        }\r\n\r\n        .total-article {\r\n          margin-left: 25px;\r\n          line-height: 200%;\r\n          font-size: 0.8em;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n    }\r\n\r\n    .remove-button {\r\n      background: none;\r\n      cursor: pointer;\r\n      border: none;\r\n      text-decoration: underline;\r\n      margin: 10px 0;\r\n      width: 100px;\r\n      align-self: center;\r\n    }\r\n  }\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}