{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1a36e82e\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"favorites-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Favoris\", -1));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_6 = {\n  class: \"favorites-grid\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\n}, null, -1));\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  \"fill-rule\": \"evenodd\",\n  d: \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\n}, null, -1));\nconst _hoisted_12 = [_hoisted_11];\nconst _hoisted_13 = [\"src\", \"alt\"];\nconst _hoisted_14 = {\n  class: \"product-info\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nconst _hoisted_17 = {\n  class: \"description\"\n};\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_GeneralButton = _resolveComponent(\"GeneralButton\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _hoisted_4, _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.favorites, (favorite, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"favorite\"\n    }, [!$options.isFavorite(favorite) ? (_openBlock(), _createElementBlock(\"svg\", {\n      key: 0,\n      onClick: $event => $options.toggleFavorite(favorite),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      fill: \"currentColor\",\n      class: \"bi bi-heart\",\n      viewBox: \"0 0 16 16\"\n    }, _hoisted_9, 8, _hoisted_7)) : (_openBlock(), _createElementBlock(\"svg\", {\n      key: 1,\n      onClick: $event => $options.toggleFavorite(favorite),\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"16\",\n      height: \"16\",\n      fill: \"currentColor\",\n      class: \"bi bi-heart-fill\",\n      viewBox: \"0 0 16 16\"\n    }, _hoisted_12, 8, _hoisted_10)), _createElementVNode(\"img\", {\n      src: favorite.image,\n      alt: favorite.titre\n    }, null, 8, _hoisted_13), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"h4\", null, _toDisplayString(favorite.titre), 1), _hoisted_15, _createElementVNode(\"p\", null, _toDisplayString(favorite.prix) + \" €\", 1), _createElementVNode(\"p\", null, \"Commande minimum : \" + _toDisplayString(favorite.moq), 1), _hoisted_16, _createElementVNode(\"p\", _hoisted_17, _toDisplayString(favorite.description), 1), _hoisted_18]), _createElementVNode(\"div\", null, [!$options.isInCart(favorite) ? (_openBlock(), _createBlock(_component_GeneralButton, {\n      key: 0,\n      label: \"Ajouter au panier\",\n      onGeneralEvent: $event => $options.addOrRemove(favorite)\n    }, null, 8, [\"onGeneralEvent\"])) : _createCommentVNode(\"\", true), $options.isInCart(favorite) ? (_openBlock(), _createBlock(_component_GeneralButton, {\n      key: 1,\n      label: \"Enlever du panier\",\n      onGeneralEvent: $event => $options.addOrRemove(favorite),\n      class: \"removeFromCartBtn\"\n    }, null, 8, [\"onGeneralEvent\"])) : _createCommentVNode(\"\", true)])]);\n  }), 128))])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","d","_hoisted_8","_hoisted_11","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","_ctx","favorites","favorite","index","key","$options","isFavorite","onClick","$event","toggleFavorite","xmlns","width","height","fill","viewBox","_hoisted_9","_hoisted_7","_hoisted_12","_hoisted_10","src","image","alt","titre","_hoisted_13","_hoisted_14","_toDisplayString","_hoisted_15","prix","moq","_hoisted_16","_hoisted_17","description","_hoisted_18","isInCart","_createBlock","_component_GeneralButton","label","onGeneralEvent","addOrRemove","_createCommentVNode"],"sources":["/workspaces/Projet-WebWares/src/views/MyFavorites.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"favorites-container\">\r\n      <br />\r\n      <h2>Favoris</h2>\r\n      <br />\r\n      <br />\r\n      <div class=\"favorites-grid\">\r\n        <div\r\n          v-for=\"(favorite, index) in favorites\"\r\n          :key=\"index\"\r\n          class=\"favorite\"\r\n        >\r\n          <svg\r\n            v-if=\"!isFavorite(favorite)\"\r\n            @click=\"toggleFavorite(favorite)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              d=\"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            v-else\r\n            @click=\"toggleFavorite(favorite)\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-heart-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314\"\r\n            />\r\n          </svg>\r\n          <img :src=\"favorite.image\" :alt=\"favorite.titre\" />\r\n          <div class=\"product-info\">\r\n            <h4>{{ favorite.titre }}</h4>\r\n            <br />\r\n            <p>{{ favorite.prix }} €</p>\r\n            <p>Commande minimum : {{ favorite.moq }}</p>\r\n            <br />\r\n            <p class=\"description\">{{ favorite.description }}</p>\r\n            <br />\r\n          </div>\r\n          <div>\r\n            <GeneralButton\r\n              label=\"Ajouter au panier\"\r\n              @generalEvent=\"addOrRemove(favorite)\"\r\n              v-if=\"!isInCart(favorite)\"\r\n            />\r\n            <GeneralButton\r\n              label=\"Enlever du panier\"\r\n              @generalEvent=\"addOrRemove(favorite)\"\r\n              class=\"removeFromCartBtn\"\r\n              v-if=\"isInCart(favorite)\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport GeneralButton from \"@/components/GeneralButton.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    GeneralButton,\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      \"produits\",\r\n      \"cartItems\",\r\n      \"favorites\",\r\n      \"categories\",\r\n      \"actualProducts\",\r\n    ]),\r\n  },\r\n  methods: {\r\n    isInCart(item) {\r\n      return (\r\n        this.cartItems.find((cartItem) => cartItem.id === item.id) !== undefined\r\n      );\r\n    },\r\n\r\n    addOrRemove(product) {\r\n      const isInCart = this.isInCart(product);\r\n      const mutationType = isInCart ? \"REMOVE_FROM_CART\" : \"ADD_TO_CART\";\r\n      product.quantity = product.moq;\r\n      this.$store.commit(mutationType, product);\r\n      this.saveCart();\r\n    },\r\n\r\n    loadCart() {\r\n      const storedCartItems = localStorage.getItem(\"cartItems\");\r\n      if (storedCartItems) {\r\n        this.$store.commit(\"SET_CART_ITEMS\", JSON.parse(storedCartItems));\r\n      }\r\n    },\r\n\r\n    saveCart() {\r\n      localStorage.setItem(\"cartItems\", JSON.stringify(this.cartItems));\r\n      console.log(\"Saved Cart:\", this.cartItems);\r\n    },\r\n\r\n    isFavorite(product) {\r\n      return this.favorites.some((fav) => fav.id === product.id);\r\n    },\r\n\r\n    toggleFavorite(product) {\r\n      const index = this.favorites.findIndex((fav) => fav.id === product.id);\r\n      if (index === -1) {\r\n        // Adds if not already in favs\r\n        this.$store.commit(\"ADD_TO_FAVORITES\", product);\r\n      } else {\r\n        // If in favs, removes after a conf message\r\n        if (\r\n          confirm(\r\n            \"Etes-vous certain de vouloir supprimer ce produit de vos favoris ?\"\r\n          )\r\n        )\r\n          this.$store.commit(\"REMOVE_FROM_FAVORITES\", product);\r\n      }\r\n\r\n      this.saveFavorites();\r\n    },\r\n\r\n    saveFavorites() {\r\n      localStorage.setItem(\"favorites\", JSON.stringify(this.favorites));\r\n      console.log(\"Saved Favorites:\", this.favorites);\r\n    },\r\n\r\n    loadFavorites() {\r\n      const storedFavorites = localStorage.getItem(\"favorites\");\r\n      if (storedFavorites) {\r\n        this.$store.commit(\"SET_FAVORITES\", JSON.parse(storedFavorites));\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.loadFavorites();\r\n\r\n    this.loadCart();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.favorites-container h2 {\r\n  color: rgb(231, 67, 39);\r\n}\r\n\r\n.favorites-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  margin: 20px auto;\r\n  width: 80%;\r\n}\r\n\r\n.favorite {\r\n  width: calc(25% - 10px);\r\n  border: 1px solid #eee;\r\n  padding-bottom: 20px;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.favorite img {\r\n  width: 100%;\r\n  height: 250px;\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n\r\n.bi-heart,\r\n.bi-heart-fill {\r\n  color: rgb(231, 67, 39);\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n\r\n.description {\r\n  font-style: italic;\r\n}\r\n\r\n.removeFromCartBtn {\r\n  background-color: rgb(94, 25, 111);\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}